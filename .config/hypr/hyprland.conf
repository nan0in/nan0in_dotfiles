# #######################################################################################
# AUTOGENERATED HYPRLAND CONFIG.
# PLEASE USE THE CONFIG PROVIDED IN THE GIT REPO /examples/hyprland.conf AND EDIT IT,
# OR EDIT THIS ONE ACCORDING TO THE WIKI INSTRUCTIONS.
# #######################################################################################

autogenerated = 0 # the warning,given arg "0" to not show

# https://wiki.hyprland.org/Configuring/
# source = ~/.config/hypr/myColors.conf


#   =============================================
#                   #  Source #
#   =============================================
# env.conf           # 环境变量
# exec_once.conf     # 开机自启程序
# window_rules.conf  # 窗口规则
# keybinds.conf      # 键位绑定
source= ~/.config/hypr/custom/*.conf
source= ~/.config/hypr/custom/*/*.conf

#   =============================================
#                   # MONITORS #
#   =============================================

# See https://wiki.hyprland.org/Configuring/Monitors/
# monitor=,preferred,auto,1
monitor = eDP-1,2560x1600@240,0x0,1


#   =============================================
#                   basical configs 
#   =============================================

general {
# ==> 基本布局
      layout                  = dwindle  #master, dwindle, stack, grid, monocle

# ==> 鼠标
      # apply_sensitivity      = true # 0:不应用, 1:应用，会对原始鼠标输出应用指定灵敏度
      # cursor_inactive_timeout= 3 # 鼠标悬停窗口后，多少秒后才会隐藏鼠标指针

# ==> 窗口设置
      gaps_in                  = 5 # 窗口内边距
      gaps_out                 = 8 # 窗口外边距
      border_size              = 5 # 窗口边框大小
      col.active_border        = rgb(444693) rgb(2a5caa) 45deg # 激活窗口边框颜色
      col.inactive_border      = rgb(cdd6f4) # 非激活窗口边框颜色
      no_border_on_floating    = true # 全屏窗口不显示边框

  # ==> Group
       col.nogroup_border      = rgb(ffaaff) #对于禁止添加入组的窗口的非活动边框颜色（请参阅 denywindowfromgroup 调度程序）
       col.nogroup_border_active = rgb(ff00ff) #对于禁止加入组的窗口的活动边框颜色

# ==> others
      resize_on_border         = true # 通过点击和拖动边框和间隙来调整窗口大小
      extend_border_grab_area  = 15   # 拓展边框抓取区域 需开启resize_on_border
      hover_icon_on_border     = true # 鼠标悬停在边框上时显示图标，extend需开启

}

group { #[v0.30.0]
    insert_after_current    = true       # 组中新窗口是在当前之后还是在组尾生成
    focus_removed_window    = false      # 是否聚焦于刚移除群组的窗口
# ## Colors: #c23c7f Default
# ====| #ef5b9c:踯躅 | #ea66a6:牡丹 | #c77eb5:菖蒲 | #f05b72:蔷薇 | #f173ac:赤紫 |====

# ====| #f15b6c:韩红 | #ca8687:薄柿 | #5f3c32:枯茶 | #6b473c:焦茶 | #6d5826:鹭茶 |====

# ====| #444693:绀桔 | #2b4490:花   | #2a5caa:瑠璃 | #102b6a:青蓝 | #4e72b8:群青 |====
# ## 组
    col.border_active           = rgb(8D54E0) # 活动组边框颜色   -聚焦
    col.border_inactive         = rgb(40E0D0) # 非活动组边框颜色 -失焦 {#40E0D0:只此青绿,}
    col.border_locked_active    = rgb(E60000) # locked组边框颜色 -聚焦
    col.border_locked_inactive  = rgb(900021) # locked组边框颜色 -失焦

    groupbar {
      enabled              = true         # 启用groupbar
      scrolling            = true         # 在组拦中滚动是否更改活动窗口
      font_size            = 15           # 标题字体大小(8)
      gradients            = false        # 组窗口标题栏是否绘制渐变(true)
      render_titles        = false        # 窗口组标题显示 (true)
      text_color           = 0xffffffff   # (0xffffffff) 组标题栏背景颜色
      col.active           = 0x66777700   # 活跃组边框颜色
      col.inactive         = 0x66ff5500   # 非活动组边框颜色
      col.locked_active    = 0x66ff5500   # 活动锁定组边框颜色
      col.locked_inactive  = 0x66775500   # 非活动锁定组边框颜色
      #moveintogroup_lock_check  = false  # 窗口加入组前检查组是否已经锁定 [v0.30.0 delete]
      }
  }

# =====================以下是原默认配置！============================

# https://wiki.hyprland.org/Configuring/Variables/#general
# general {
#     gaps_in = 5
#     gaps_out = 20
#
#     border_size = 2
#
#     # https://wiki.hyprland.org/Configuring/Variables/#variable-types for info about colors
#     col.active_border = rgba(33ccffee) rgba(00ff99ee) 45deg
#     col.inactive_border = rgba(595959aa)
#
#     # Set to true enable resizing windows by clicking and dragging on borders and gaps
#     resize_on_border = false
#
#     # Please see https://wiki.hyprland.org/Configuring/Tearing/ before you turn this on
#     allow_tearing = false
#
#     layout = dwindle
# }

# =====================以上是原默认配置！============================


#   =============================================
#                      misc杂项  
#   =============================================

# https://wiki.hyprland.org/Configuring/Variables/#misc
misc {
    force_default_wallpaper       = -1 # Set to 0 or 1 to disable the anime mascot wallpapers
    disable_hyprland_logo         = false # If true disables the random hyprland logo / anime girl background. :(
    disable_splash_rendering      = false
    vfr                           = true #控制 hyprland 的 VFR 状态。强烈建议保留 true 以节省资源 (default:true)
    vrr                           = 0    # 控制显示器的 VRR 自适应同步，0 - 关闭，1 - 打开, 2 - 仅全屏 (default:0)
    always_follow_on_dnd          = true   # 拖放时鼠标焦点跟随鼠标 (default:true)
    layers_hog_keyboard_focus     = true   # 使键盘交互层将焦点集中在鼠标移动上
    animate_manual_resizes        = true   # 手动更改窗口大小时进行动画处理 (default:false)
    animate_mouse_windowdragging  = false  # 对鼠标拖动移动的窗口进行动画处理,可能会有奇怪画面bug(default:false)
    disable_autoreload            = false  # 关闭 Hyprland 配置自动重载，可以使用 hyprctl reload 手动重载，可能会节省电池
    enable_swallow                = false  # 窗口吞噬
    focus_on_activate             = false  # Hyprland 是否关注请求聚焦的应用
    allow_session_lock_restore    = true   # 允许您重新启动锁屏应用程序，以防它崩溃红屏死机
    mouse_move_focuses_monitor    = true   # 窗口焦点移动到其他显示器时是否聚焦
    render_ahead_of_time          = false  # 在显示器显示帧之前开始渲染，以降低延迟 (Warning:Buggy, default:false)
    render_ahead_safezone         = 1      # 要提前添加到渲染中的安全时区 (ms) (推荐 1-2 ms)
    close_special_on_empty        = true   # 如果删除最后一个窗口，关闭特殊工作区 (0.29.1)

# ==>触控屏幕
    new_window_takes_over_fullscreen = 2  # ## 如果存在全屏窗口，则打开的新平铺窗口应替换全屏窗口还是保留。0 - 后面，1 - 接管，2 - 取消全屏当前全屏窗口 [v 0.31.0 add]
    exit_window_retains_fullscreen = false # 关闭全屏窗口会使下一个聚焦的窗口切换为全屏状态
    initial_workspace_tracking = 0        # 窗口将在调用他们的工作区上打开，0禁用，1单次，2持久
    middle_click_paste = true             # 鼠标中键单击粘贴(也称为主要选择)
}

#   =============================================
#                   decorations  
#   =============================================


# https://wiki.hyprland.org/Configuring/Variables/#decoration
decoration {
# ==>美丽的圆角
  rounding = 13   #半径

  rounding_power = 4
# ==>透明度
  active_opacity         = 1.0           # 活动 (0.0 - 1.0)
  inactive_opacity       = 0.95           # 非活动
  fullscreen_opacity     = 1.0           # 全屏窗口

# ==>阴影
  shadow {
    enabled = true
    range = 8 
    render_power = 3
    color = 0x66404040
    color_inactive = 0x66404040
    offset = 1 2
    scale  = 1.0
  }


  # 降低对比度（数值越小越柔和）
    dim_inactive = true
    dim_strength = 0.2  # 调低这个值（默认 0.2
  # https://wiki.hyprland.org/Configuring/Variables/#blur
  blur {
    enabled           = false    # [ NEW BUG ]
    size              = 3       # 最少为 1
    passes            = 2       # 最少为 1，高 passes 对 GPU 施加更大压力
    new_optimizations = true    # 是否对模糊启用优化，提高性能
    xray              = true    # 浮动窗口透明桌面
    ignore_opacity    = false    # 使模糊图层忽略窗口的不透明度
    noise             = 0       # 噪声 (0.0 - 1.0)
    contrast          = 1.4     # 对比度 (0.0 -2.0)
    brightness        = 0.5     # 亮度 (0.0 - 2.0)
    special           = false   # 作用于特殊工作区 (性能损耗大)
    vibrancy          = 0.1696   # 模糊颜色的饱和度
    vibrancy_darkness = 0.5    # 对变暗区域的 vibrancy 影响
    popups_ignorealpha= 0.2     # 如果像素不透明度地域设定值，则不会模糊 [0.0 - 1.0]
    }
}


#   =============================================
#                   输入设备input  
#   =============================================
# https://wiki.hyprland.org/Configuring/Variables/#input

input {
    kb_layout = us
    kb_variant =
    kb_model =
    kb_options =
    kb_rules =

    follow_mouse = 1

    sensitivity = 0 # -1.0 - 1.0, 0 means no modification.

    touchpad {
        natural_scroll = false
    }
}


# https://wiki.hyprland.org/Configuring/Variables/#gestures
gestures {
    workspace_swipe = false
}

# Example per-device config
# See https://wiki.hyprland.org/Configuring/Keywords/#per-device-input-configs for more
device {
    name = epic-mouse-v1
    sensitivity = -0.5
}


#   =============================================
#                    anmation动画 
#   =============================================

# ===>以下为默认配置(default config) .conf is in ./custom

# https://wiki.hyprland.org/Configuring/Variables/#animations
# animations {
#     enabled = yes, please :)
#
#     # Default animations, see https://wiki.hyprland.org/Configuring/Animations/ for more
#
#     bezier = easeOutQuint,0.23,1,0.32,1
#     bezier = easeInOutCubic,0.65,0.05,0.36,1
#     bezier = linear,0,0,1,1
#     bezier = almostLinear,0.5,0.5,0.75,1.0
#     bezier = quick,0.15,0,0.1,1
#
#     animation = global, 1, 10, default
#     animation = border, 1, 5.39, easeOutQuint
#     animation = windows, 1, 4.79, easeOutQuint
#     animation = windowsIn, 1, 4.1, easeOutQuint, popin 87%
#     animation = windowsOut, 1, 1.49, linear, popin 87%
#     animation = fadeIn, 1, 1.73, almostLinear
#     animation = fadeOut, 1, 1.46, almostLinear
#     animation = fade, 1, 3.03, quick
#     animation = layers, 1, 3.81, easeOutQuint
#     animation = layersIn, 1, 4, easeOutQuint, fade
#     animation = layersOut, 1, 1.5, linear, fade
#     animation = fadeLayersIn, 1, 1.79, almostLinear
#     animation = fadeLayersOut, 1, 1.39, almostLinear
#     animation = workspaces, 1, 1.94, almostLinear, fade
#     animation = workspacesIn, 1, 1.21, almostLinear, fade
#     animation = workspacesOut, 1, 1.94, almostLinear, fade
# }


#   =============================================
#                   layout settings
#   =============================================
dwindle {
    pseudotile           = true # Master switch for pseudotiling. Enabling is bound to mainMod + P in the keybinds section below
    preserve_split       = true # You probably want this
    force_split          = 2 #保证向右或底部分割 
    special_scale_factor = 0.8       # (0.0 - 1.0) 指定特殊工作区上窗口的缩放
}

# See https://wiki.hyprland.org/Configuring/Master-Layout/ for more
master {
    new_status = master
}


#   =============================================
#                   keybind settings
#   =============================================
binds {
  pass_mouse_when_bound    = false  # 如果禁用，则不会将鼠标事件传递给应用 在触发键绑定时拖动窗口
  scroll_event_delay       = 300    # 以 ms 为单位，在滚动事件后等待多少毫秒，才允许传递建绑定 (ms)
  workspace_back_and_forth = false  # 如果启用，尝试切换到当前焦点工作区将更改为切换到上一个工作区，类似 i3 的 auto_back_and_forth
  allow_workspace_cycles   = false  # 如果启用，工作区不会忘记以前的工作区，因此可以通过按顺序切换到第一个工作区来创建周期
  workspace_center_on      = 0      # 切换工作区是应将光标居中放在工作区 （0） 上还是该工作区的最后一个活动窗口 （1）
  focus_preferred_method   = 0      # 设置使用 movewindow / focuswindow 方向时首选的焦点查找方法，0 - 历史记录（最近优先）， 1 - 长度 （较长的共享边具有优先级）
  ignore_group_lock        = false  # 启用后，dispatchers moveintogroup moveoutofgroup movewindoworgroup 将会忽略组锁定
}




#   =============================================
#                   windowrules
#   =============================================
#

# 忽略 XWayland 右键菜单的边框和焦点

windowrule = suppressevent maximize, class:.*
# Fix some dragging issues with XWayland
windowrule = nofocus,class:^$,title:^$,xwayland:1,floating:1,fullscreen:0,pinned:0
# ========================================================================
